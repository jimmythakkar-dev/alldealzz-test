


Started GET "/" for 127.0.0.1 at 2018-02-23 08:19:13 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#index as HTML
Completed 401 Unauthorized in 109ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-02-23 08:19:15 -0600
Processing by Devise::SessionsController#new as HTML
  Rendered devise/sessions/new.html.erb within layouts/application (36.2ms)
  Rendered shared/dashboard/_brand_logo.html.erb (12.2ms)
  Rendered shared/dashboard/_header_nav_global.html.erb (23.0ms)
Completed 200 OK in 2162ms (Views: 2005.4ms | ActiveRecord: 139.1ms)


Started GET "/assets/application-2411ee26dd74f0135f4b346740c6a060ce4a77d310a8a8a7c384485c13ef5183.js" for 127.0.0.1 at 2018-02-23 08:19:17 -0600


Started GET "/assets/application-772c1ff394ee1780c6b89eba926850ff55d7f5fb7e0992a4603ecc0cff1331bb.css" for 127.0.0.1 at 2018-02-23 08:19:18 -0600


Started GET "/assets/logo/logo_fandy-3ede4ad56eb288a276f59bbe8f37edec890b31a46d85162b78d4f21d1cac8e6f.png" for 127.0.0.1 at 2018-02-23 08:19:18 -0600


Started GET "/assets/mainboard-london-aa5b465c4a147ad38d2b7d766d258d8ac5c9e1de5098df9ccd00bed5da36ec20.jpg" for 127.0.0.1 at 2018-02-23 08:19:18 -0600


Started POST "/users/sign_in" for 127.0.0.1 at 2018-02-23 08:19:22 -0600
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"[FILTERED]", "user"=>{"login"=>"super_admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"SIGN IN"}
  [1m[35mUser Load (185.3ms)[0m  SELECT  "users".* FROM "users" WHERE (lower(username) = 'super_admin' OR lower(email) = 'super_admin')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2017-10-05 12:19:05.871935"], ["current_sign_in_at", "2018-02-23 14:19:23.246144"], ["last_sign_in_ip", "192.168.2.9/32"], ["current_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 316], ["updated_at", "2018-02-23 14:19:23.247262"], ["id", 236]]
  [1m[36m (16.4ms)[0m  [1mCOMMIT[0m
  [1m[35mStore Load (169.9ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36mMall Load (32.7ms)[0m  [1mSELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1[0m  [["user_id", 236]]
Redirected to http://localhost:3000/
Completed 302 Found in 688ms (ActiveRecord: 463.3ms)


Started GET "/" for 127.0.0.1 at 2018-02-23 08:19:23 -0600
Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  [1m[35mMall Load (0.2ms)[0m  SELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36m (307.6ms)[0m  [1mSELECT COUNT(*) FROM "delayed_jobs" WHERE (handler LIKE '%job_class: PushNotification::ToEndUser::SenderRequestedJob%' and last_error is not null)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "delayed_jobs" WHERE (last_error is not null)
  Rendered dashboard/_stop_pending_delayed_jop.html.erb (336.0ms)
  Rendered dashboard/index.html.erb within layouts/application (336.8ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.2ms)
  Rendered shared/dashboard/_header_nav.html.erb (1.0ms)
  Rendered shared/dashboard/_side_menu.html.erb (89.8ms)
Completed 200 OK in 547ms (Views: 204.0ms | ActiveRecord: 333.9ms)


Started GET "/assets/glyphicons-halflings-regular-fe185d11a49676890d47bb783312a0cda5a44c4039214094e7957b4c040ef11c.woff2" for 127.0.0.1 at 2018-02-23 08:19:24 -0600


Started GET "/deals" for 127.0.0.1 at 2018-02-23 08:19:26 -0600
Processing by DealsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.3ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36mMall Load (0.3ms)[0m  [1mSELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  Rendered deals/listing/_search.html.erb (0.9ms)
  [1m[35m (61.1ms)[0m  SELECT COUNT(*) FROM "deals"
  [1m[36mDeal Load (141.1ms)[0m  [1mSELECT  "deals".* FROM "deals"  ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
  [1m[35mDealCategory Load (158.1ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 682], ["deal_type", 0]]
  [1m[36mDeal Load (1.5ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 270]]
  Rendered deals/listing/_row.html.erb (217.7ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 681], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mStore Load (0.6ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 24]]
  Rendered deals/listing/_row.html.erb (8.3ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 680], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 264]]
  Rendered deals/listing/_row.html.erb (4.6ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 679], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (4.0ms)
  [1m[35mDealCategory Load (0.3ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 678], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 677], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (4.1ms)
  [1m[35mDealCategory Load (0.7ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 676], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.4ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (6.8ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 675], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.8ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 674], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 673], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-02-23' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-02-23' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-02-23' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-02-23')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  Rendered deals/listing/_list.html.erb (614.0ms)
  Rendered deals/index.html.erb within layouts/application (617.1ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.2ms)
  Rendered shared/dashboard/_header_nav.html.erb (0.6ms)
  Rendered shared/dashboard/_side_menu.html.erb (2.6ms)
Completed 200 OK in 684ms (Views: 242.3ms | ActiveRecord: 431.7ms)


Started GET "/" for 127.0.0.1 at 2018-03-11 14:50:07 -0500
  [1m[36mActiveRecord::SchemaMigration Load (39.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#index as HTML
Completed 401 Unauthorized in 113ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-03-11 14:50:09 -0500
Processing by Devise::SessionsController#new as HTML
  Rendered devise/sessions/new.html.erb within layouts/application (45.6ms)
  Rendered shared/dashboard/_brand_logo.html.erb (3.7ms)
  Rendered shared/dashboard/_header_nav_global.html.erb (14.3ms)
Completed 200 OK in 715ms (Views: 501.3ms | ActiveRecord: 191.7ms)


Started GET "/assets/application-772c1ff394ee1780c6b89eba926850ff55d7f5fb7e0992a4603ecc0cff1331bb.css" for 127.0.0.1 at 2018-03-11 14:50:10 -0500


Started GET "/assets/application-2411ee26dd74f0135f4b346740c6a060ce4a77d310a8a8a7c384485c13ef5183.js" for 127.0.0.1 at 2018-03-11 14:50:10 -0500


Started GET "/assets/logo/logo_fandy-3ede4ad56eb288a276f59bbe8f37edec890b31a46d85162b78d4f21d1cac8e6f.png" for 127.0.0.1 at 2018-03-11 14:50:10 -0500


Started GET "/assets/mainboard-london-aa5b465c4a147ad38d2b7d766d258d8ac5c9e1de5098df9ccd00bed5da36ec20.jpg" for 127.0.0.1 at 2018-03-11 14:50:10 -0500


Started POST "/users/sign_in" for 127.0.0.1 at 2018-03-11 14:50:12 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"[FILTERED]", "user"=>{"login"=>"super_admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"SIGN IN"}
  [1m[35mUser Load (317.3ms)[0m  SELECT  "users".* FROM "users" WHERE (lower(username) = 'super_admin' OR lower(email) = 'super_admin')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["last_sign_in_at", "2018-02-27 17:26:18.882424"], ["current_sign_in_at", "2018-03-11 19:50:13.034279"], ["sign_in_count", 320], ["updated_at", "2018-03-11 19:50:13.035316"], ["id", 236]]
  [1m[36m (27.5ms)[0m  [1mCOMMIT[0m
  [1m[35mStore Load (181.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36mMall Load (54.5ms)[0m  [1mSELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1[0m  [["user_id", 236]]
Redirected to http://localhost:3000/
Completed 302 Found in 857ms (ActiveRecord: 648.4ms)


Started GET "/" for 127.0.0.1 at 2018-03-11 14:50:13 -0500
Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  [1m[35mMall Load (0.1ms)[0m  SELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36m (192.2ms)[0m  [1mSELECT COUNT(*) FROM "delayed_jobs" WHERE (handler LIKE '%job_class: PushNotification::ToEndUser::SenderRequestedJob%' and last_error is not null)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "delayed_jobs" WHERE (last_error is not null)
  Rendered dashboard/_stop_pending_delayed_jop.html.erb (207.9ms)
  Rendered dashboard/index.html.erb within layouts/application (251.3ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.2ms)
  Rendered shared/dashboard/_header_nav.html.erb (0.9ms)
  Rendered shared/dashboard/_side_menu.html.erb (153.9ms)
Completed 200 OK in 522ms (Views: 309.7ms | ActiveRecord: 205.8ms)


Started GET "/assets/glyphicons-halflings-regular-fe185d11a49676890d47bb783312a0cda5a44c4039214094e7957b4c040ef11c.woff2" for 127.0.0.1 at 2018-03-11 14:50:14 -0500


Started GET "/deals" for 127.0.0.1 at 2018-03-11 14:50:16 -0500
Processing by DealsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.4ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["user_id", 236]]
  [1m[36mMall Load (0.2ms)[0m  [1mSELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  Rendered deals/listing/_search.html.erb (0.6ms)
  [1m[35m (116.1ms)[0m  SELECT COUNT(*) FROM "deals"
  [1m[36mDeal Load (89.9ms)[0m  [1mSELECT  "deals".* FROM "deals"  ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
  [1m[35mDealCategory Load (154.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 682], ["deal_type", 0]]
  [1m[36mDeal Load (1.4ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 270]]
  Rendered deals/listing/_row.html.erb (284.3ms)
  [1m[35mDealCategory Load (0.5ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 681], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 24]]
  Rendered deals/listing/_row.html.erb (5.0ms)
  [1m[35mDealCategory Load (0.3ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 680], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 264]]
  Rendered deals/listing/_row.html.erb (4.2ms)
  [1m[35mDealCategory Load (0.3ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 679], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.9ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 678], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (5.3ms)
  [1m[35mDealCategory Load (0.4ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 677], ["deal_type", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 268]]
  Rendered deals/listing/_row.html.erb (4.3ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 676], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (4.2ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 675], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 674], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (4.9ms)
  [1m[35mDealCategory Load (0.2ms)[0m  SELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1  [["deal_id", 673], ["deal_type", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 236]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["id", 246]]
  Rendered deals/listing/_row.html.erb (4.2ms)
  Rendered deals/listing/_list.html.erb (677.9ms)
  Rendered deals/index.html.erb within layouts/application (680.2ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.1ms)
  Rendered shared/dashboard/_header_nav.html.erb (0.5ms)
  Rendered shared/dashboard/_side_menu.html.erb (1.7ms)
Completed 200 OK in 730ms (Views: 273.4ms | ActiveRecord: 445.5ms)


Started GET "/deals" for 127.0.0.1 at 2018-03-11 15:13:30 -0500
Processing by DealsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  [1m[35mMall Load (0.2ms)[0m  SELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1  [["user_id", 236]]
  Rendered deals/listing/_search.html.erb (0.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "deals"[0m
  [1m[35mDeal Load (1.1ms)[0m  SELECT  "deals".* FROM "deals"  ORDER BY created_at desc LIMIT 10 OFFSET 0
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 682], ["deal_type", 0]]
  [1m[35mDeal Load (1.3ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mStore Load (0.2ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 270]]
  Rendered deals/listing/_row.html.erb (6.3ms)
  [1m[36mDealCategory Load (0.1ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 681], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mStore Load (0.2ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 24]]
  Rendered deals/listing/_row.html.erb (4.1ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 680], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 264]]
  Rendered deals/listing/_row.html.erb (4.2ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 679], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.2ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.6ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 678], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 677], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 676], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.5ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 675], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.4ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 674], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.3ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 673], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.3ms)
  Rendered deals/listing/_list.html.erb (55.6ms)
  Rendered deals/index.html.erb within layouts/application (56.6ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.1ms)
  Rendered shared/dashboard/_header_nav.html.erb (0.5ms)
  Rendered shared/dashboard/_side_menu.html.erb (1.7ms)
Completed 200 OK in 102ms (Views: 88.7ms | ActiveRecord: 6.9ms)


Started GET "/deals" for 127.0.0.1 at 2018-03-11 15:13:39 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DealsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 236]]
  [1m[36mStore Load (0.5ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."user_id" = $1  ORDER BY stores.created_at DESC LIMIT 1[0m  [["user_id", 236]]
  [1m[35mMall Load (0.3ms)[0m  SELECT  "malls".* FROM "malls" WHERE "malls"."user_id" = $1  ORDER BY malls.created_at DESC LIMIT 1  [["user_id", 236]]
  Rendered deals/listing/_search.html.erb (1.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "deals"[0m
  [1m[35mDeal Load (1.3ms)[0m  SELECT  "deals".* FROM "deals"  ORDER BY created_at desc LIMIT 10 OFFSET 0
  [1m[36mDealCategory Load (0.6ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 682], ["deal_type", 0]]
  [1m[35mDeal Load (1.3ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mStore Load (0.3ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 270]]
  Rendered deals/listing/_row.html.erb (54.7ms)
  [1m[36mDealCategory Load (0.5ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 681], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mStore Load (0.6ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 24]]
  Rendered deals/listing/_row.html.erb (7.2ms)
  [1m[36mDealCategory Load (0.4ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 680], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.3ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 264]]
  Rendered deals/listing/_row.html.erb (4.9ms)
  [1m[36mDealCategory Load (0.5ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 679], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.3ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (7.1ms)
  [1m[36mDealCategory Load (0.3ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 678], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.6ms)
  [1m[36mDealCategory Load (0.4ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 677], ["deal_type", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 268]]
  Rendered deals/listing/_row.html.erb (3.6ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 676], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mStore Load (0.3ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.9ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 675], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (21.0ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 674], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (3.7ms)
  [1m[36mDealCategory Load (0.2ms)[0m  [1mSELECT  "deal_categories".* FROM "deal_categories" INNER JOIN "deal_deal_categories" ON "deal_categories"."id" = "deal_deal_categories"."deal_category_id" WHERE "deal_deal_categories"."deal_id" = $1 AND "deal_categories"."deal_type" = $2 AND (sub_deal_category_id is null)  ORDER BY priority_order ASC LIMIT 1[0m  [["deal_id", 673], ["deal_type", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "deals".* FROM "deals" INNER JOIN "stores" ON "stores"."id" = "deals"."store_id" INNER JOIN "users" ON "users"."id" = "deals"."approved_by" LEFT JOIN malls 
    ON ((malls.id = stores.manageable_id AND stores.manageable_type = 'Mall')) WHERE (stores.status = true and deals.status = true) AND (stores.manageable_type is null OR 
    (malls.status is true AND (DATE(malls.expiry_date) >= '2018-03-11' or malls.expiry_date is null))) AND (DATE(stores.expiry_date) >= '2018-03-11' or stores.expiry_date is null) AND (DATE(deals.expiry_date) >= '2018-03-11' or deals.expiry_date is null) AND (DATE(deals.publish_date) <= '2018-03-11')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 236]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = $1  ORDER BY stores.created_at DESC LIMIT 1  [["id", 246]]
  Rendered deals/listing/_row.html.erb (4.3ms)
  Rendered deals/listing/_list.html.erb (173.2ms)
  Rendered deals/index.html.erb within layouts/application (179.5ms)
  Rendered shared/dashboard/_brand_logo.html.erb (0.6ms)
  Rendered shared/dashboard/_header_nav.html.erb (1.3ms)
  Rendered shared/dashboard/_side_menu.html.erb (44.9ms)
Completed 200 OK in 552ms (Views: 444.1ms | ActiveRecord: 17.3ms)
